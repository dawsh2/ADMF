{
  "optimization_type": "ensemble_weights",
  "method": "regime_specific_grid_search",
  "regimes_optimized": 3,
  "regime_weight_results": {
    "default": {
      "best_weights": {
        "ma_crossover": 0.4,
        "rsi": 0.6
      },
      "best_score": -12.178823747200964,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": -12.867133416135033,
          "trade_count": 35,
          "metrics": {
            "pnl": -517.6899999999137,
            "commission": 0.0,
            "count": 35,
            "wins": 9,
            "losses": 26,
            "pnl_values": [
              -16.499999999996362,
              -17.999999999994998,
              8.000000000004093,
              -15.93000000000302,
              12.569999999993797,
              -19.500000000005002,
              -21.010000000001128,
              7.5000000000045475,
              -11.49999999998954,
              -10.999999999989996,
              5.000000000006821,
              0.9999999999990905,
              -20.119999999997162,
              8.100000000001728,
              -8.89999999999418,
              -15.499999999997272,
              -20.99999999999227,
              -50.499999999999545,
              -21.499999999991815,
              -24.00000000000091,
              -12.000000000000455,
              32.50000000000455,
              -28.099999999994907,
              -32.599999999990814,
              -27.99999999999727,
              -12.999999999999545,
              3.00000000000864,
              -24.109999999996035,
              -50.499999999999545,
              -13.990000000001146,
              -14.990000000000236,
              6.9999999999936335,
              -28.01000000000613,
              -32.09999999999127,
              -50.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 35,
            "pure_regime_pnl": -517.6899999999137,
            "sharpe_ratio": -12.867133416135033,
            "win_rate": 0.2571428571428571,
            "avg_pnl": -14.79114285714039,
            "std_dev_pnl": 18.248206966137587,
            "gross_pnl": -517.6899999999137,
            "net_pnl": -517.6899999999137
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": -12.178823747200964,
          "trade_count": 35,
          "metrics": {
            "pnl": -497.22999999992226,
            "commission": 0.0,
            "count": 35,
            "wins": 10,
            "losses": 25,
            "pnl_values": [
              3.959999999995034,
              -17.999999999994998,
              8.000000000004093,
              -15.93000000000302,
              12.569999999993797,
              -19.500000000005002,
              -21.010000000001128,
              7.5000000000045475,
              -11.49999999998954,
              -10.999999999989996,
              5.000000000006821,
              0.9999999999990905,
              -20.119999999997162,
              8.100000000001728,
              -8.89999999999418,
              -15.499999999997272,
              -20.99999999999227,
              -50.499999999999545,
              -21.499999999991815,
              -24.00000000000091,
              -12.000000000000455,
              32.50000000000455,
              -28.099999999994907,
              -32.599999999990814,
              -27.99999999999727,
              -12.999999999999545,
              3.00000000000864,
              -24.109999999996035,
              -50.499999999999545,
              -13.990000000001146,
              -14.990000000000236,
              6.9999999999936335,
              -28.01000000000613,
              -32.09999999999127,
              -50.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 35,
            "pure_regime_pnl": -497.22999999992226,
            "sharpe_ratio": -12.178823747200964,
            "win_rate": 0.2857142857142857,
            "avg_pnl": -14.206571428569207,
            "std_dev_pnl": 18.517578920464285,
            "gross_pnl": -497.22999999992226,
            "net_pnl": -497.22999999992226
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": -12.178823747200964,
          "trade_count": 35,
          "metrics": {
            "pnl": -497.22999999992226,
            "commission": 0.0,
            "count": 35,
            "wins": 10,
            "losses": 25,
            "pnl_values": [
              3.959999999995034,
              -17.999999999994998,
              8.000000000004093,
              -15.93000000000302,
              12.569999999993797,
              -19.500000000005002,
              -21.010000000001128,
              7.5000000000045475,
              -11.49999999998954,
              -10.999999999989996,
              5.000000000006821,
              0.9999999999990905,
              -20.119999999997162,
              8.100000000001728,
              -8.89999999999418,
              -15.499999999997272,
              -20.99999999999227,
              -50.499999999999545,
              -21.499999999991815,
              -24.00000000000091,
              -12.000000000000455,
              32.50000000000455,
              -28.099999999994907,
              -32.599999999990814,
              -27.99999999999727,
              -12.999999999999545,
              3.00000000000864,
              -24.109999999996035,
              -50.499999999999545,
              -13.990000000001146,
              -14.990000000000236,
              6.9999999999936335,
              -28.01000000000613,
              -32.09999999999127,
              -50.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 35,
            "pure_regime_pnl": -497.22999999992226,
            "sharpe_ratio": -12.178823747200964,
            "win_rate": 0.2857142857142857,
            "avg_pnl": -14.206571428569207,
            "std_dev_pnl": 18.517578920464285,
            "gross_pnl": -497.22999999992226,
            "net_pnl": -497.22999999992226
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": -12.178823747200964,
          "trade_count": 35,
          "metrics": {
            "pnl": -497.22999999992226,
            "commission": 0.0,
            "count": 35,
            "wins": 10,
            "losses": 25,
            "pnl_values": [
              3.959999999995034,
              -17.999999999994998,
              8.000000000004093,
              -15.93000000000302,
              12.569999999993797,
              -19.500000000005002,
              -21.010000000001128,
              7.5000000000045475,
              -11.49999999998954,
              -10.999999999989996,
              5.000000000006821,
              0.9999999999990905,
              -20.119999999997162,
              8.100000000001728,
              -8.89999999999418,
              -15.499999999997272,
              -20.99999999999227,
              -50.499999999999545,
              -21.499999999991815,
              -24.00000000000091,
              -12.000000000000455,
              32.50000000000455,
              -28.099999999994907,
              -32.599999999990814,
              -27.99999999999727,
              -12.999999999999545,
              3.00000000000864,
              -24.109999999996035,
              -50.499999999999545,
              -13.990000000001146,
              -14.990000000000236,
              6.9999999999936335,
              -28.01000000000613,
              -32.09999999999127,
              -50.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 35,
            "pure_regime_pnl": -497.22999999992226,
            "sharpe_ratio": -12.178823747200964,
            "win_rate": 0.2857142857142857,
            "avg_pnl": -14.206571428569207,
            "std_dev_pnl": 18.517578920464285,
            "gross_pnl": -497.22999999992226,
            "net_pnl": -497.22999999992226
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": -12.178823747200964,
          "trade_count": 35,
          "metrics": {
            "pnl": -497.22999999992226,
            "commission": 0.0,
            "count": 35,
            "wins": 10,
            "losses": 25,
            "pnl_values": [
              3.959999999995034,
              -17.999999999994998,
              8.000000000004093,
              -15.93000000000302,
              12.569999999993797,
              -19.500000000005002,
              -21.010000000001128,
              7.5000000000045475,
              -11.49999999998954,
              -10.999999999989996,
              5.000000000006821,
              0.9999999999990905,
              -20.119999999997162,
              8.100000000001728,
              -8.89999999999418,
              -15.499999999997272,
              -20.99999999999227,
              -50.499999999999545,
              -21.499999999991815,
              -24.00000000000091,
              -12.000000000000455,
              32.50000000000455,
              -28.099999999994907,
              -32.599999999990814,
              -27.99999999999727,
              -12.999999999999545,
              3.00000000000864,
              -24.109999999996035,
              -50.499999999999545,
              -13.990000000001146,
              -14.990000000000236,
              6.9999999999936335,
              -28.01000000000613,
              -32.09999999999127,
              -50.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 35,
            "pure_regime_pnl": -497.22999999992226,
            "sharpe_ratio": -12.178823747200964,
            "win_rate": 0.2857142857142857,
            "avg_pnl": -14.206571428569207,
            "std_dev_pnl": 18.517578920464285,
            "gross_pnl": -497.22999999992226,
            "net_pnl": -497.22999999992226
          }
        }
      ],
      "combinations_tested": 5
    },
    "trending_up": {
      "best_weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "best_score": -3.558392362927702,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": -3.558392362927702,
          "trade_count": 9,
          "metrics": {
            "pnl": -286.00999999999885,
            "commission": 0.0,
            "count": 9,
            "wins": 1,
            "losses": 8,
            "pnl_values": [
              -44.00000000000546,
              -17.50000000000682,
              -287.99999999999955,
              -40.99999999999682,
              -38.49999999999909,
              -39.999999999997726,
              -39.999999999997726,
              -52.00999999999567,
              275.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 9,
            "pure_regime_pnl": -286.00999999999885,
            "sharpe_ratio": -3.558392362927702,
            "win_rate": 0.1111111111111111,
            "avg_pnl": -31.778888888888762,
            "std_dev_pnl": 141.77026314115042,
            "gross_pnl": -286.00999999999885,
            "net_pnl": -286.00999999999885
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": -3.558392362927702,
          "trade_count": 9,
          "metrics": {
            "pnl": -286.00999999999885,
            "commission": 0.0,
            "count": 9,
            "wins": 1,
            "losses": 8,
            "pnl_values": [
              -44.00000000000546,
              -17.50000000000682,
              -287.99999999999955,
              -40.99999999999682,
              -38.49999999999909,
              -39.999999999997726,
              -39.999999999997726,
              -52.00999999999567,
              275.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 9,
            "pure_regime_pnl": -286.00999999999885,
            "sharpe_ratio": -3.558392362927702,
            "win_rate": 0.1111111111111111,
            "avg_pnl": -31.778888888888762,
            "std_dev_pnl": 141.77026314115042,
            "gross_pnl": -286.00999999999885,
            "net_pnl": -286.00999999999885
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": -3.558392362927702,
          "trade_count": 9,
          "metrics": {
            "pnl": -286.00999999999885,
            "commission": 0.0,
            "count": 9,
            "wins": 1,
            "losses": 8,
            "pnl_values": [
              -44.00000000000546,
              -17.50000000000682,
              -287.99999999999955,
              -40.99999999999682,
              -38.49999999999909,
              -39.999999999997726,
              -39.999999999997726,
              -52.00999999999567,
              275.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 9,
            "pure_regime_pnl": -286.00999999999885,
            "sharpe_ratio": -3.558392362927702,
            "win_rate": 0.1111111111111111,
            "avg_pnl": -31.778888888888762,
            "std_dev_pnl": 141.77026314115042,
            "gross_pnl": -286.00999999999885,
            "net_pnl": -286.00999999999885
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": -3.558392362927702,
          "trade_count": 9,
          "metrics": {
            "pnl": -286.00999999999885,
            "commission": 0.0,
            "count": 9,
            "wins": 1,
            "losses": 8,
            "pnl_values": [
              -44.00000000000546,
              -17.50000000000682,
              -287.99999999999955,
              -40.99999999999682,
              -38.49999999999909,
              -39.999999999997726,
              -39.999999999997726,
              -52.00999999999567,
              275.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 9,
            "pure_regime_pnl": -286.00999999999885,
            "sharpe_ratio": -3.558392362927702,
            "win_rate": 0.1111111111111111,
            "avg_pnl": -31.778888888888762,
            "std_dev_pnl": 141.77026314115042,
            "gross_pnl": -286.00999999999885,
            "net_pnl": -286.00999999999885
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": -3.558392362927702,
          "trade_count": 9,
          "metrics": {
            "pnl": -286.00999999999885,
            "commission": 0.0,
            "count": 9,
            "wins": 1,
            "losses": 8,
            "pnl_values": [
              -44.00000000000546,
              -17.50000000000682,
              -287.99999999999955,
              -40.99999999999682,
              -38.49999999999909,
              -39.999999999997726,
              -39.999999999997726,
              -52.00999999999567,
              275.0
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 9,
            "pure_regime_pnl": -286.00999999999885,
            "sharpe_ratio": -3.558392362927702,
            "win_rate": 0.1111111111111111,
            "avg_pnl": -31.778888888888762,
            "std_dev_pnl": 141.77026314115042,
            "gross_pnl": -286.00999999999885,
            "net_pnl": -286.00999999999885
          }
        }
      ],
      "combinations_tested": 5
    },
    "trending_down": {
      "best_weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "best_score": -2.5720765113140924,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": -2.5720765113140924,
          "trade_count": 15,
          "metrics": {
            "pnl": -127.51000000000658,
            "commission": 0.0,
            "count": 15,
            "wins": 7,
            "losses": 8,
            "pnl_values": [
              27.959999999995944,
              -48.00000000000182,
              -18.50000000000591,
              -14.399999999989177,
              48.00000000000182,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              3.5399999999981446,
              10.500000000001819,
              -158.50000000000364,
              -29.999999999995453,
              -1.4999999999986358,
              -26.00999999999658
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 15,
            "pure_regime_pnl": -127.51000000000658,
            "sharpe_ratio": -2.5720765113140924,
            "win_rate": 0.4666666666666667,
            "avg_pnl": -8.500666666667106,
            "std_dev_pnl": 52.4649633383579,
            "gross_pnl": -127.51000000000658,
            "net_pnl": -127.51000000000658
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": -2.5720765113140924,
          "trade_count": 15,
          "metrics": {
            "pnl": -127.51000000000658,
            "commission": 0.0,
            "count": 15,
            "wins": 7,
            "losses": 8,
            "pnl_values": [
              27.959999999995944,
              -48.00000000000182,
              -18.50000000000591,
              -14.399999999989177,
              48.00000000000182,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              3.5399999999981446,
              10.500000000001819,
              -158.50000000000364,
              -29.999999999995453,
              -1.4999999999986358,
              -26.00999999999658
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 15,
            "pure_regime_pnl": -127.51000000000658,
            "sharpe_ratio": -2.5720765113140924,
            "win_rate": 0.4666666666666667,
            "avg_pnl": -8.500666666667106,
            "std_dev_pnl": 52.4649633383579,
            "gross_pnl": -127.51000000000658,
            "net_pnl": -127.51000000000658
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": -2.5720765113140924,
          "trade_count": 15,
          "metrics": {
            "pnl": -127.51000000000658,
            "commission": 0.0,
            "count": 15,
            "wins": 7,
            "losses": 8,
            "pnl_values": [
              27.959999999995944,
              -48.00000000000182,
              -18.50000000000591,
              -14.399999999989177,
              48.00000000000182,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              3.5399999999981446,
              10.500000000001819,
              -158.50000000000364,
              -29.999999999995453,
              -1.4999999999986358,
              -26.00999999999658
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 15,
            "pure_regime_pnl": -127.51000000000658,
            "sharpe_ratio": -2.5720765113140924,
            "win_rate": 0.4666666666666667,
            "avg_pnl": -8.500666666667106,
            "std_dev_pnl": 52.4649633383579,
            "gross_pnl": -127.51000000000658,
            "net_pnl": -127.51000000000658
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": -2.5720765113140924,
          "trade_count": 15,
          "metrics": {
            "pnl": -127.51000000000658,
            "commission": 0.0,
            "count": 15,
            "wins": 7,
            "losses": 8,
            "pnl_values": [
              27.959999999995944,
              -48.00000000000182,
              -18.50000000000591,
              -14.399999999989177,
              48.00000000000182,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              3.5399999999981446,
              10.500000000001819,
              -158.50000000000364,
              -29.999999999995453,
              -1.4999999999986358,
              -26.00999999999658
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 15,
            "pure_regime_pnl": -127.51000000000658,
            "sharpe_ratio": -2.5720765113140924,
            "win_rate": 0.4666666666666667,
            "avg_pnl": -8.500666666667106,
            "std_dev_pnl": 52.4649633383579,
            "gross_pnl": -127.51000000000658,
            "net_pnl": -127.51000000000658
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": -2.5720765113140924,
          "trade_count": 15,
          "metrics": {
            "pnl": -127.51000000000658,
            "commission": 0.0,
            "count": 15,
            "wins": 7,
            "losses": 8,
            "pnl_values": [
              27.959999999995944,
              -48.00000000000182,
              -18.50000000000591,
              -14.399999999989177,
              48.00000000000182,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              3.5399999999981446,
              10.500000000001819,
              -158.50000000000364,
              -29.999999999995453,
              -1.4999999999986358,
              -26.00999999999658
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 15,
            "pure_regime_pnl": -127.51000000000658,
            "sharpe_ratio": -2.5720765113140924,
            "win_rate": 0.4666666666666667,
            "avg_pnl": -8.500666666667106,
            "std_dev_pnl": 52.4649633383579,
            "gross_pnl": -127.51000000000658,
            "net_pnl": -127.51000000000658
          }
        }
      ],
      "combinations_tested": 5
    }
  },
  "timestamp": "2025-05-26T19:36:56.943257",
  "regime_best_weights": {
    "default": {
      "weights": {
        "ma_crossover": 0.4,
        "rsi": 0.6
      },
      "sharpe_ratio": -12.178823747200964,
      "metrics": {
        "sharpe_ratio": -12.178823747200964
      }
    },
    "trending_up": {
      "weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "sharpe_ratio": -3.558392362927702,
      "metrics": {
        "sharpe_ratio": -3.558392362927702
      }
    },
    "trending_down": {
      "weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "sharpe_ratio": -2.5720765113140924,
      "metrics": {
        "sharpe_ratio": -2.5720765113140924
      }
    }
  }
}