{
  "optimization_type": "ensemble_weights",
  "method": "regime_specific_grid_search",
  "regimes_optimized": 3,
  "regime_weight_results": {
    "default": {
      "best_weights": null,
      "best_score": -Infinity,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": 53.23000000000775,
            "commission": 0.0,
            "count": 4,
            "wins": 3,
            "losses": 1,
            "pnl_values": [
              18.000000000006366,
              -4.9999999999954525,
              32.12999999999511,
              8.100000000001728
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": 53.23000000000775,
            "sharpe_ratio": 13.463440348793753,
            "win_rate": 0.75,
            "avg_pnl": 13.307500000001937,
            "std_dev_pnl": 15.690641318948598,
            "gross_pnl": 53.23000000000775,
            "net_pnl": 53.23000000000775
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": 53.23000000000775,
            "commission": 0.0,
            "count": 4,
            "wins": 3,
            "losses": 1,
            "pnl_values": [
              18.000000000006366,
              -4.9999999999954525,
              32.12999999999511,
              8.100000000001728
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": 53.23000000000775,
            "sharpe_ratio": 13.463440348793753,
            "win_rate": 0.75,
            "avg_pnl": 13.307500000001937,
            "std_dev_pnl": 15.690641318948598,
            "gross_pnl": 53.23000000000775,
            "net_pnl": 53.23000000000775
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": 53.23000000000775,
            "commission": 0.0,
            "count": 4,
            "wins": 3,
            "losses": 1,
            "pnl_values": [
              18.000000000006366,
              -4.9999999999954525,
              32.12999999999511,
              8.100000000001728
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": 53.23000000000775,
            "sharpe_ratio": 13.463440348793753,
            "win_rate": 0.75,
            "avg_pnl": 13.307500000001937,
            "std_dev_pnl": 15.690641318948598,
            "gross_pnl": 53.23000000000775,
            "net_pnl": 53.23000000000775
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": 53.23000000000775,
            "commission": 0.0,
            "count": 4,
            "wins": 3,
            "losses": 1,
            "pnl_values": [
              18.000000000006366,
              -4.9999999999954525,
              32.12999999999511,
              8.100000000001728
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": 53.23000000000775,
            "sharpe_ratio": 13.463440348793753,
            "win_rate": 0.75,
            "avg_pnl": 13.307500000001937,
            "std_dev_pnl": 15.690641318948598,
            "gross_pnl": 53.23000000000775,
            "net_pnl": 53.23000000000775
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": 53.23000000000775,
            "commission": 0.0,
            "count": 4,
            "wins": 3,
            "losses": 1,
            "pnl_values": [
              18.000000000006366,
              -4.9999999999954525,
              32.12999999999511,
              8.100000000001728
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": 53.23000000000775,
            "sharpe_ratio": 13.463440348793753,
            "win_rate": 0.75,
            "avg_pnl": 13.307500000001937,
            "std_dev_pnl": 15.690641318948598,
            "gross_pnl": 53.23000000000775,
            "net_pnl": 53.23000000000775
          }
        }
      ],
      "combinations_tested": 5
    },
    "trending_up": {
      "best_weights": null,
      "best_score": -Infinity,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": -287.1400000000108,
            "commission": 0.0,
            "count": 4,
            "wins": 2,
            "losses": 2,
            "pnl_values": [
              -34.00000000000318,
              5.499999999994998,
              -276.49999999999864,
              17.859999999996035
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": -287.1400000000108,
            "sharpe_ratio": -8.242260071220082,
            "win_rate": 0.5,
            "avg_pnl": -71.7850000000027,
            "std_dev_pnl": 138.25716943435245,
            "gross_pnl": -287.1400000000108,
            "net_pnl": -287.1400000000108
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": -287.1400000000108,
            "commission": 0.0,
            "count": 4,
            "wins": 2,
            "losses": 2,
            "pnl_values": [
              -34.00000000000318,
              5.499999999994998,
              -276.49999999999864,
              17.859999999996035
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": -287.1400000000108,
            "sharpe_ratio": -8.242260071220082,
            "win_rate": 0.5,
            "avg_pnl": -71.7850000000027,
            "std_dev_pnl": 138.25716943435245,
            "gross_pnl": -287.1400000000108,
            "net_pnl": -287.1400000000108
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": -287.1400000000108,
            "commission": 0.0,
            "count": 4,
            "wins": 2,
            "losses": 2,
            "pnl_values": [
              -34.00000000000318,
              5.499999999994998,
              -276.49999999999864,
              17.859999999996035
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": -287.1400000000108,
            "sharpe_ratio": -8.242260071220082,
            "win_rate": 0.5,
            "avg_pnl": -71.7850000000027,
            "std_dev_pnl": 138.25716943435245,
            "gross_pnl": -287.1400000000108,
            "net_pnl": -287.1400000000108
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": -287.1400000000108,
            "commission": 0.0,
            "count": 4,
            "wins": 2,
            "losses": 2,
            "pnl_values": [
              -34.00000000000318,
              5.499999999994998,
              -276.49999999999864,
              17.859999999996035
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": -287.1400000000108,
            "sharpe_ratio": -8.242260071220082,
            "win_rate": 0.5,
            "avg_pnl": -71.7850000000027,
            "std_dev_pnl": 138.25716943435245,
            "gross_pnl": -287.1400000000108,
            "net_pnl": -287.1400000000108
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": -Infinity,
          "trade_count": 4,
          "metrics": {
            "pnl": -287.1400000000108,
            "commission": 0.0,
            "count": 4,
            "wins": 2,
            "losses": 2,
            "pnl_values": [
              -34.00000000000318,
              5.499999999994998,
              -276.49999999999864,
              17.859999999996035
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 4,
            "pure_regime_pnl": -287.1400000000108,
            "sharpe_ratio": -8.242260071220082,
            "win_rate": 0.5,
            "avg_pnl": -71.7850000000027,
            "std_dev_pnl": 138.25716943435245,
            "gross_pnl": -287.1400000000108,
            "net_pnl": -287.1400000000108
          }
        }
      ],
      "combinations_tested": 5
    },
    "trending_down": {
      "best_weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "best_score": 4.033857199258098,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": 4.033857199258098,
          "trade_count": 20,
          "metrics": {
            "pnl": 129.04999999997244,
            "commission": 0.0,
            "count": 20,
            "wins": 13,
            "losses": 6,
            "pnl_values": [
              -40.99999999999682,
              -18.50000000000591,
              16.999999999995907,
              0.0,
              3.0099999999947613,
              4.009999999993852,
              -5.870000000004438,
              3.4999999999968168,
              3.4999999999968168,
              -7.899999999995089,
              20.500000000004093,
              4.000000000007731,
              37.999999999999545,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              14.400000000000546,
              35.50000000000182,
              -20.500000000004093
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 20,
            "pure_regime_pnl": 129.04999999997244,
            "sharpe_ratio": 4.033857199258098,
            "win_rate": 0.65,
            "avg_pnl": 6.452499999998622,
            "std_dev_pnl": 25.392634629377213,
            "gross_pnl": 129.04999999997244,
            "net_pnl": 129.04999999997244
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": 4.033857199258098,
          "trade_count": 20,
          "metrics": {
            "pnl": 129.04999999997244,
            "commission": 0.0,
            "count": 20,
            "wins": 13,
            "losses": 6,
            "pnl_values": [
              -40.99999999999682,
              -18.50000000000591,
              16.999999999995907,
              0.0,
              3.0099999999947613,
              4.009999999993852,
              -5.870000000004438,
              3.4999999999968168,
              3.4999999999968168,
              -7.899999999995089,
              20.500000000004093,
              4.000000000007731,
              37.999999999999545,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              14.400000000000546,
              35.50000000000182,
              -20.500000000004093
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 20,
            "pure_regime_pnl": 129.04999999997244,
            "sharpe_ratio": 4.033857199258098,
            "win_rate": 0.65,
            "avg_pnl": 6.452499999998622,
            "std_dev_pnl": 25.392634629377213,
            "gross_pnl": 129.04999999997244,
            "net_pnl": 129.04999999997244
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": 4.033857199258098,
          "trade_count": 20,
          "metrics": {
            "pnl": 129.04999999997244,
            "commission": 0.0,
            "count": 20,
            "wins": 13,
            "losses": 6,
            "pnl_values": [
              -40.99999999999682,
              -18.50000000000591,
              16.999999999995907,
              0.0,
              3.0099999999947613,
              4.009999999993852,
              -5.870000000004438,
              3.4999999999968168,
              3.4999999999968168,
              -7.899999999995089,
              20.500000000004093,
              4.000000000007731,
              37.999999999999545,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              14.400000000000546,
              35.50000000000182,
              -20.500000000004093
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 20,
            "pure_regime_pnl": 129.04999999997244,
            "sharpe_ratio": 4.033857199258098,
            "win_rate": 0.65,
            "avg_pnl": 6.452499999998622,
            "std_dev_pnl": 25.392634629377213,
            "gross_pnl": 129.04999999997244,
            "net_pnl": 129.04999999997244
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": 4.033857199258098,
          "trade_count": 20,
          "metrics": {
            "pnl": 129.04999999997244,
            "commission": 0.0,
            "count": 20,
            "wins": 13,
            "losses": 6,
            "pnl_values": [
              -40.99999999999682,
              -18.50000000000591,
              16.999999999995907,
              0.0,
              3.0099999999947613,
              4.009999999993852,
              -5.870000000004438,
              3.4999999999968168,
              3.4999999999968168,
              -7.899999999995089,
              20.500000000004093,
              4.000000000007731,
              37.999999999999545,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              14.400000000000546,
              35.50000000000182,
              -20.500000000004093
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 20,
            "pure_regime_pnl": 129.04999999997244,
            "sharpe_ratio": 4.033857199258098,
            "win_rate": 0.65,
            "avg_pnl": 6.452499999998622,
            "std_dev_pnl": 25.392634629377213,
            "gross_pnl": 129.04999999997244,
            "net_pnl": 129.04999999997244
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": 4.033857199258098,
          "trade_count": 20,
          "metrics": {
            "pnl": 129.04999999997244,
            "commission": 0.0,
            "count": 20,
            "wins": 13,
            "losses": 6,
            "pnl_values": [
              -40.99999999999682,
              -18.50000000000591,
              16.999999999995907,
              0.0,
              3.0099999999947613,
              4.009999999993852,
              -5.870000000004438,
              3.4999999999968168,
              3.4999999999968168,
              -7.899999999995089,
              20.500000000004093,
              4.000000000007731,
              37.999999999999545,
              -33.00000000000409,
              68.99999999999409,
              15.999999999996817,
              27.40000000000009,
              14.400000000000546,
              35.50000000000182,
              -20.500000000004093
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 20,
            "pure_regime_pnl": 129.04999999997244,
            "sharpe_ratio": 4.033857199258098,
            "win_rate": 0.65,
            "avg_pnl": 6.452499999998622,
            "std_dev_pnl": 25.392634629377213,
            "gross_pnl": 129.04999999997244,
            "net_pnl": 129.04999999997244
          }
        }
      ],
      "combinations_tested": 5
    }
  },
  "timestamp": "2025-05-26T19:46:28.052860",
  "regime_best_weights": {
    "trending_down": {
      "weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "sharpe_ratio": 4.033857199258098,
      "metrics": {
        "sharpe_ratio": 4.033857199258098
      }
    }
  }
}