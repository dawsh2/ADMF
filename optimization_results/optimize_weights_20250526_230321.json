{
  "optimization_type": "ensemble_weights",
  "method": "regime_specific_grid_search",
  "regimes_optimized": 4,
  "regime_weight_results": {
    "default": {
      "best_weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "best_score": -0.7954676591583767,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.25,
            "rsi": 0.25,
            "bb": 0.25,
            "macd": 0.25
          },
          "score": -0.7954676591583767,
          "trade_count": 410,
          "metrics": {
            "pnl": -799.6699999999748,
            "commission": 0.0,
            "count": 410,
            "wins": 165,
            "losses": 239,
            "pnl_values": [
              7.5000000000045475,
              20.9699999999998,
              -10.030000000006112,
              -12.999999999999545,
              -8.999999999991815,
              8.010000000001583,
              2.009999999995671,
              -6.000000000005912,
              17.009999999993397,
              -2.500000000009095,
              -9.500000000002728,
              -2.4999999999977263,
              -3.999999999996362,
              -15.499999999997272,
              -3.999999999996362,
              -7.5000000000045475,
              -10.000000000002274,
              -11.000000000001364,
              -12.5,
              4.500000000007276,
              -47.00000000000273,
              238.99999999999864,
              52.99999999999727,
              -4.499999999995907,
              63.999999999998636,
              0.0,
              0.9999999999990905,
              1.999999999998181,
              -1.700000000005275,
              -12.70000000000664,
              6.9999999999936335,
              21.000000000003638,
              10.000000000002274,
              6.9999999999936335,
              5.499999999994998,
              9.500000000002728,
              19.500000000005002,
              -0.49999999999954525,
              31.00000000000591,
              -6.0100000000034015,
              15.999999999996817,
              9.989999999993415,
              5.989999999997053,
              4.189999999994143,
              -2.9899999999997817,
              -4.490000000009786,
              -12.5,
              -25.0,
              -9.500000000002728,
              -10.000000000002274,
              9.500000000002728,
              26.99999999999818,
              -5.5000000000063665,
              -15.499999999997272,
              -5.599999999992633,
              -15.599999999994907,
              -22.00000000000273,
              0.0,
              8.000000000004093,
              -3.999999999996362,
              -8.009999999990214,
              -12.000000000000455,
              -9.000000000003183,
              0.0,
              -1.999999999998181,
              0.9999999999990905,
              39.49999999999818,
              -4.989999999997963,
              39.51000000000704,
              9.000000000003183,
              8.49999999999227,
              -31.999999999993634,
              3.8000000000010914,
              -19.700000000000273,
              -4.9999999999954525,
              23.530000000005202,
              6.989999999996144,
              -30.01000000000431,
              -18.50000000000591,
              -14.499999999998181,
              -8.920000000000528,
              14.599999999995816,
              59.40000000000509,
              -5.999999999994543,
              -24.00000000000091,
              1.4999999999986358,
              -8.000000000004093,
              -17.770000000007258,
              5.7299999999941065,
              7.5000000000045475,
              -13.299999999992451,
              -24.079999999992197,
              -19.9799999999982,
              -49.00000000000091,
              29.999999999995453,
              -14.999999999997726,
              -20.500000000004093,
              -6.990000000007512,
              30.00000000000682,
              3.00000000000864,
              17.000000000007276,
              35.000000000002274,
              -10.000000000002274,
              -10.240000000010241,
              14.759999999989759,
              -8.999999999991815,
              -9.8700000000008,
              -18.499999999994543,
              -14.499999999998181,
              -13.49999999999909,
              -9.999999999990905,
              14.000000000010004,
              4.000000000007731,
              -24.00000000000091,
              -26.99000000000069,
              -16.489999999998872,
              -15.499999999997272,
              -12.399999999990996,
              3.6000000000058208,
              -50.0,
              10.829999999998563,
              -30.00000000000682,
              18.99999999999409,
              -20.500000000004093,
              -11.130000000002838,
              8.010000000001583,
              69.01000000000295,
              65.49999999999727,
              -19.500000000005002,
              17.999999999994998,
              -7.5000000000045475,
              -1.5000000000100044,
              -6.000000000005912,
              -8.000000000004093,
              -18.50000000000591,
              -17.50000000000682,
              21.010000000001128,
              11.010000000010223,
              17.990000000008877,
              -12.009999999997945,
              56.50000000000546,
              -385.5000000000018,
              -14.000000000010004,
              -3.00000000000864,
              2.9999999999972715,
              -5.999999999994543,
              -16.999999999995907,
              9.000000000003183,
              12.5,
              -12.999999999999545,
              -20.99999999999227,
              -8.999999999991815,
              -8.49999999999227,
              -4.9999999999954525,
              -2.9999999999972715,
              18.000000000006366,
              2.0100000000070395,
              -6.989999999996144,
              -3.999999999996362,
              -12.000000000000455,
              -1.1399999999980537,
              -14.139999999997599,
              -12.000000000000455,
              -79.99999999999545,
              37.999999999999545,
              -42.000000000007276,
              0.9999999999990905,
              59.00000000000318,
              6.499999999994088,
              90.99999999999682,
              4.499999999995907,
              -33.50000000000364,
              27.99999999999727,
              -52.00000000000955,
              0.0,
              -27.499999999997726,
              -70.50000000000409,
              -29.999999999995453,
              -46.499999999991815,
              -10.000000000002274,
              -11.000000000001364,
              -29.999999999995453,
              38.49999999999909,
              30.999999999994543,
              -0.9999999999990905,
              -39.999999999997726,
              -33.49999999999227,
              6.0100000000034015,
              -27.99999999999727,
              -0.49999999999954525,
              26.99999999999818,
              -10.999999999989996,
              -19.000000000005457,
              27.99999999999727,
              16.999999999995907,
              12.000000000000455,
              5.000000000006821,
              -14.999999999997726,
              -21.000000000003638,
              -10.000000000002274,
              -12.000000000000455,
              -24.500000000000455,
              10.370000000000346,
              -36.000000000001364,
              132.50000000000455,
              -14.009999999996126,
              16.869999999994434,
              -44.630000000006476,
              14.999999999997726,
              -23.500000000001364,
              -25.0,
              -15.999999999996817,
              -4.139999999995325,
              -15.999999999996817,
              12.969999999995707,
              -56.00000000000591,
              65.71999999999889,
              20.500000000004093,
              1.4999999999986358,
              -22.18000000000302,
              -51.99999999999818,
              -18.99999999999409,
              -10.950000000002547,
              -36.000000000001364,
              75.99999999999909,
              63.49999999999909,
              103.49999999999682,
              6.000000000005912,
              52.00000000000955,
              133.0000000000041,
              0.0,
              -6.119999999998527,
              63.999999999998636,
              -47.99000000000433,
              -4.980000000000473,
              38.009999999997035,
              -28.989999999998872,
              -1.9900000000006912,
              3.00000000000864,
              -18.990000000007967,
              30.999999999994543,
              3.999999999996362,
              -7.999999999992724,
              -35.999999999989996,
              -20.99999999999227,
              -3.999999999996362,
              38.05999999999585,
              4.0599999999926695,
              -79.00000000000773,
              37.000000000000455,
              6.000000000000227,
              -87.00000000000045,
              18.999999999999773,
              68.66999999999734,
              -12.330000000002883,
              20.49999999999841,
              -56.99999999999932,
              31.999999999999318,
              -17.70999999999958,
              86.7999999999995,
              -12.000000000000455,
              -35.93000000000188,
              -3.9300000000025648,
              3.999999999996362,
              -57.99999999999841,
              16.499999999996362,
              -13.49999999999909,
              10.500000000001819,
              -39.100000000001955,
              -18.999999999999773,
              19.999999999998863,
              41.0000000000025,
              -31.999999999999318,
              -20.999999999997954,
              -9.99999999999659,
              -78.99999999999636,
              -57.99999999999841,
              67.00000000000159,
              15.00000000000341,
              -17.00000000000159,
              22.999999999996135,
              -6.000000000000227,
              12.149999999996908,
              3.000000000002956,
              -32.99999999999841,
              -16.5300000000002,
              61.50000000000091,
              -71.99999999999704,
              4.000000000002046,
              -4.000000000002046,
              -49.500000000000455,
              -29.120000000000346,
              -11.119999999999663,
              -31.000000000000227,
              1.999999999998181,
              -22.00000000000273,
              -41.0000000000025,
              68.99999999999977,
              3.9800000000013824,
              -3.999999999996362,
              11.000000000001364,
              -51.99999999999818,
              0.0,
              -26.499999999998636,
              -50.090000000000146,
              -43.99999999999977,
              109.94000000000028,
              -7.999999999998408,
              -13.999999999998636,
              -33.50000000000364,
              27.499999999997726,
              -4.000000000002046,
              -41.0000000000025,
              -13.999999999998636,
              86.00000000000136,
              6.999999999999318,
              30.000000000001137,
              -20.999999999997954,
              -52.99999999999727,
              -56.99999999999932,
              -6.999999999999318,
              45.999999999997954,
              7.999999999998408,
              -1.0000000000047748,
              6.690000000003238,
              56.69000000000324,
              4.000000000002046,
              -37.999999999999545,
              -15.00000000000341,
              -33.02999999999656,
              -46.50000000000318,
              -16.500000000002046,
              -12.189999999998236,
              -10.500000000001819,
              69.49999999999932,
              6.000000000000227,
              -28.000000000002956,
              5.299999999999727,
              -37.69999999999527,
              -2.899999999999636,
              -12.899999999996226,
              -8.999999999997499,
              -41.0000000000025,
              36.000000000001364,
              16.0000000000025,
              -54.000000000002046,
              -68.00000000000068,
              -6.999999999999318,
              11.000000000001364,
              -4.000000000002046,
              101.00999999999658,
              -25.0,
              23.00000000000182,
              -49.00000000000091,
              -12.989999999996371,
              -17.45999999999981,
              -10.960000000000036,
              30.000000000001137,
              15.999999999996817,
              30.220000000002756,
              10.720000000003438,
              62.000000000000455,
              22.00000000000273,
              -0.9999999999990905,
              24.00000000000091,
              5.000000000001137,
              -11.000000000001364,
              84.99999999999659,
              29.000000000002046,
              -29.000000000002046,
              46.999999999997044,
              40.99999999999682,
              47.999999999996135,
              -13.50999999999658,
              18.000000000000682,
              66.0000000000025,
              25.0,
              -42.50000000000114,
              -39.999999999997726,
              -38.49999999999909,
              -31.000000000000227,
              -3.000000000002956,
              31.000000000000227,
              11.990000000002965,
              5.990000000002738,
              -27.960000000001628,
              -13.999999999998636,
              20.90000000000032,
              7.850000000001955,
              -17.039999999997235,
              -54.99000000000365,
              -5.000000000001137,
              -12.000000000000455,
              -2.960000000001628,
              -18.999999999999773,
              -19.100000000003092,
              0.9999999999990905,
              -17.900000000003047,
              -54.000000000002046,
              25.82999999999629,
              -35.16999999999939,
              -70.49999999999841,
              -26.010000000002265,
              21.910000000002583,
              -8.949999999998681,
              -8.000000000004093,
              -17.00000000000159,
              -12.000000000000455,
              -8.009999999995898,
              33.490000000000464
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 410,
            "pure_regime_pnl": -799.6699999999748,
            "sharpe_ratio": -0.7954676591583767,
            "win_rate": 0.4024390243902439,
            "avg_pnl": -1.95041463414628,
            "std_dev_pnl": 38.922855123023965,
            "gross_pnl": -799.6699999999748,
            "net_pnl": -799.6699999999748
          }
        }
      ],
      "combinations_tested": 1
    },
    "trending_up": {
      "best_weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "best_score": -0.11378339241509546,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.25,
            "rsi": 0.25,
            "bb": 0.25,
            "macd": 0.25
          },
          "score": -0.11378339241509546,
          "trade_count": 137,
          "metrics": {
            "pnl": -77.61999999996192,
            "commission": 0.0,
            "count": 137,
            "wins": 38,
            "losses": 98,
            "pnl_values": [
              -2.0000000000095497,
              55.99999999999454,
              -14.999999999997726,
              -2.9999999999972715,
              36.000000000001364,
              237.99999999999955,
              -81.99999999999363,
              -3.999999999996362,
              -20.810000000005857,
              -3.999999999996362,
              -18.58999999999469,
              -2.580000000000382,
              -45.00000000000455,
              -2.4999999999977263,
              -35.49999999999045,
              63.999999999998636,
              -19.470000000001164,
              -9.569999999996526,
              -18.000000000006366,
              -7.5000000000045475,
              -10.500000000001819,
              -8.000000000004093,
              -11.389999999994416,
              32.000000000005,
              -43.99999999999409,
              11.000000000001364,
              -26.869999999996708,
              -15.499999999997272,
              -21.99999999999136,
              -38.17000000000235,
              -110.50000000000182,
              60.00999999999976,
              -24.490000000002965,
              15.499999999997272,
              -28.129999999998745,
              -37.999999999999545,
              -9.549999999990177,
              -6.549999999992906,
              -2.9999999999972715,
              65.0000000000091,
              -22.99999999999045,
              15.000000000009095,
              257.1799999999939,
              161.00000000000136,
              166.9999999999959,
              -65.0000000000091,
              -15.000000000009095,
              -47.499999999990905,
              -69.00000000000546,
              109.50000000000273,
              79.51000000000477,
              -17.499999999995453,
              -25.99999999999909,
              -34.00000000000318,
              18.99999999999409,
              -64.49999999999818,
              -25.0,
              -44.500000000005,
              -17.51000000000431,
              -10.009999999999764,
              55.99999999999454,
              180.9699999999907,
              -34.71999999999298,
              -29.949999999996635,
              -40.000000000009095,
              -36.000000000001364,
              5.499999999994998,
              -34.00000000000318,
              -45.60000000000173,
              101.42000000000735,
              -27.979999999990923,
              -96.99999999999136,
              159.01000000000067,
              76.99999999999818,
              -45.499999999992724,
              -9.49999999999136,
              -25.99999999999909,
              -8.000000000004093,
              23.48999999999819,
              -49.00000000000091,
              -73.00000000000182,
              401.0000000000048,
              -71.00000000000364,
              -10.000000000002274,
              -23.00000000000182,
              -11.000000000001364,
              -15.00000000000341,
              -40.850000000000364,
              -57.99999999999841,
              -62.02999999999861,
              115.99999999999682,
              -208.49999999999795,
              20.49999999999841,
              -53.05999999999926,
              0.0,
              61.000000000001364,
              -4.000000000002046,
              -53.5000000000025,
              37.5,
              -32.99999999999841,
              -8.999999999997499,
              -42.00000000000159,
              -10.000000000002274,
              -56.49999999999977,
              -53.5000000000025,
              -56.00000000000023,
              -62.999999999999545,
              -50.0,
              -12.000000000000455,
              -11.000000000001364,
              116.0000000000025,
              -22.999999999996135,
              -12.999999999999545,
              -56.00000000000023,
              240.99999999999682,
              -39.49999999999818,
              57.49999999999886,
              -53.000000000002956,
              -1.0000000000047748,
              119.00000000000546,
              -36.98999999999728,
              65.0100000000009,
              -256.0000000000002,
              73.00000000000182,
              -100.0,
              -40.00000000000341,
              -81.99999999999932,
              -27.99999999999727,
              -64.99999999999773,
              28.000000000002956,
              50.04000000000133,
              -22.999999999996135,
              -35.000000000002274,
              -12.000000000000455,
              64.00999999999613,
              -24.900000000002365,
              78.99999999999636
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 137,
            "pure_regime_pnl": -77.61999999996192,
            "sharpe_ratio": -0.11378339241509546,
            "win_rate": 0.2773722627737226,
            "avg_pnl": -0.5665693430654155,
            "std_dev_pnl": 79.04501089697465,
            "gross_pnl": -77.61999999996192,
            "net_pnl": -77.61999999996192
          }
        }
      ],
      "combinations_tested": 1
    },
    "trending_down": {
      "best_weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "best_score": -1.3382248028330808,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.25,
            "rsi": 0.25,
            "bb": 0.25,
            "macd": 0.25
          },
          "score": -1.3382248028330808,
          "trade_count": 147,
          "metrics": {
            "pnl": -1367.9700000000594,
            "commission": 0.0,
            "count": 147,
            "wins": 42,
            "losses": 105,
            "pnl_values": [
              -17.49000000000933,
              1.999999999998181,
              -11.000000000001364,
              140.99999999999682,
              -55.50000000000637,
              -8.000000000004093,
              -28.00999999999476,
              -12.000000000000455,
              -82.000000000005,
              -70.96000000000231,
              58.49999999999227,
              -52.510000000006585,
              -27.82000000000835,
              -45.99000000000615,
              -454.99999999999545,
              23.00000000000182,
              -60.82999999999856,
              -6.830000000002201,
              42.000000000007276,
              -15.499999999997272,
              -21.99000000000524,
              -13.999999999998636,
              -7.999999999992724,
              78.99999999999636,
              20.99999999999227,
              -29.00000000000773,
              112.99999999999955,
              377.99999999999727,
              -200.9999999999991,
              -43.99999999999409,
              -193.9999999999941,
              39.99000000000024,
              -144.5100000000025,
              79.6799999999962,
              -80.99999999999454,
              -79.99999999999545,
              -5.999999999994543,
              -39.999999999997726,
              62.999999999999545,
              -34.00000000000318,
              -27.00000000000955,
              -57.000000000005,
              -44.99999999999318,
              125.99999999999909,
              -15.830000000005384,
              -10.829999999998563,
              351.88000000000557,
              57.48999999999569,
              -28.499999999996817,
              -16.13999999999578,
              -496.00000000000364,
              -41.06000000000449,
              127.99999999999727,
              -22.500000000002274,
              -18.50000000000591,
              -44.00000000000546,
              -24.500000000000455,
              50.8199999999988,
              -7.999999999992724,
              -120.62000000000808,
              93.49999999999454,
              350.9999999999991,
              -79.99999999999545,
              2.9999999999972715,
              -61.800000000005184,
              92.20000000000255,
              275.0,
              3.000000000002956,
              43.50000000000023,
              -67.00000000000159,
              -31.000000000000227,
              -10.000000000002274,
              -25.0,
              215.0000000000091,
              -34.999999999990905,
              -24.00000000000091,
              -66.0000000000025,
              -18.000000000000682,
              -51.000000000004775,
              -74.99999999999432,
              -23.999999999995225,
              -29.399999999998272,
              1.0999999999967258,
              243.4000000000026,
              320.4999999999984,
              -128.99999999999636,
              -68.00000000000068,
              -16.0000000000025,
              -25.99999999999909,
              -88.99999999999864,
              156.00000000000023,
              -27.50000000000341,
              -136.00000000000136,
              -124.00000000000091,
              -125.0,
              108.98000000000252,
              -74.00000000000091,
              -77.99999999999727,
              -76.99999999999818,
              43.99999999999977,
              -66.58999999999651,
              -66.0000000000025,
              -6.999999999999318,
              -18.000000000000682,
              -4.000000000002046,
              -37.5,
              189.99999999999773,
              -115.17000000000053,
              16.1200000000008,
              -20.38000000000011,
              -14.499999999998181,
              -96.00000000000364,
              -21.029999999996107,
              113.06999999999903,
              -73.93000000000143,
              82.49999999999886,
              -27.50000000000341,
              -49.18999999999869,
              -72.99000000000433,
              -100.99999999999909,
              -38.489999999995916,
              166.50000000000205,
              -39.00000000000432,
              137.99999999999955,
              38.4900000000016,
              15.00000000000341,
              -23.49999999999568,
              -2.4999999999977263,
              -90.99999999999682,
              -18.000000000000682,
              -37.999999999999545,
              40.00000000000341,
              -52.499999999997726,
              -43.99999999999977,
              -25.0,
              -76.99000000000069,
              -49.10000000000423,
              -78.50999999999999,
              -45.00000000000455,
              71.36999999999603,
              -23.640000000000327,
              -15.629999999998745,
              -46.62000000000148,
              25.909999999998945,
              -20.08999999999901,
              -19.999999999998863,
              -42.00000000000159
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 147,
            "pure_regime_pnl": -1367.9700000000594,
            "sharpe_ratio": -1.3382248028330808,
            "win_rate": 0.2857142857142857,
            "avg_pnl": -9.305918367347342,
            "std_dev_pnl": 110.39017810286539,
            "gross_pnl": -1367.9700000000594,
            "net_pnl": -1367.9700000000594
          }
        }
      ],
      "combinations_tested": 1
    },
    "volatile": {
      "best_weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "best_score": 2.7416595580426657,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.25,
            "rsi": 0.25,
            "bb": 0.25,
            "macd": 0.25
          },
          "score": 2.7416595580426657,
          "trade_count": 8,
          "metrics": {
            "pnl": 114.33000000000675,
            "commission": 0.0,
            "count": 8,
            "wins": 5,
            "losses": 3,
            "pnl_values": [
              115.0000000000091,
              93.49999999999454,
              57.000000000005,
              10.99999999999568,
              -84.99999999999659,
              48.00000000000182,
              -121.17000000000075,
              -4.000000000002046
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 8,
            "pure_regime_pnl": 114.33000000000675,
            "sharpe_ratio": 2.7416595580426657,
            "win_rate": 0.625,
            "avg_pnl": 14.291250000000844,
            "std_dev_pnl": 82.74789620761291,
            "gross_pnl": 114.33000000000675,
            "net_pnl": 114.33000000000675
          }
        }
      ],
      "combinations_tested": 1
    }
  },
  "timestamp": "2025-05-26T23:03:21.273542",
  "regime_best_weights": {
    "default": {
      "weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "sharpe_ratio": -0.7954676591583767,
      "metrics": {
        "sharpe_ratio": -0.7954676591583767
      }
    },
    "trending_up": {
      "weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "sharpe_ratio": -0.11378339241509546,
      "metrics": {
        "sharpe_ratio": -0.11378339241509546
      }
    },
    "trending_down": {
      "weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "sharpe_ratio": -1.3382248028330808,
      "metrics": {
        "sharpe_ratio": -1.3382248028330808
      }
    },
    "volatile": {
      "weights": {
        "ma_crossover": 0.25,
        "rsi": 0.25,
        "bb": 0.25,
        "macd": 0.25
      },
      "sharpe_ratio": 2.7416595580426657,
      "metrics": {
        "sharpe_ratio": 2.7416595580426657
      }
    }
  }
}