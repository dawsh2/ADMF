{
  "optimization_type": "ensemble_weights",
  "method": "regime_specific_grid_search",
  "regimes_optimized": 3,
  "regime_weight_results": {
    "default": {
      "best_weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "best_score": -4.506891853230901,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": -4.506891853230901,
          "trade_count": 29,
          "metrics": {
            "pnl": -175.42999999999438,
            "commission": 0.0,
            "count": 29,
            "wins": 7,
            "losses": 22,
            "pnl_values": [
              25.99999999999909,
              -3.4999999999968168,
              -11.000000000001364,
              18.000000000006366,
              -12.999999999999545,
              -9.000000000003183,
              -11.000000000001364,
              -9.000000000003183,
              25.99999999999909,
              10.590000000001965,
              -6.399999999996453,
              -14.999999999997726,
              -8.749999999997726,
              2.7500000000031832,
              -16.499999999996362,
              -18.99999999999409,
              -41.99999999999591,
              -28.00000000000864,
              -33.00000000000409,
              -13.009999999997035,
              -27.99999999999727,
              -20.000000000004547,
              65.49999999999727,
              -5.5000000000063665,
              -7.000000000005002,
              -10.500000000001819,
              14.499999999998181,
              -2.5999999999953616,
              -27.00999999999567
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 29,
            "pure_regime_pnl": -175.42999999999438,
            "sharpe_ratio": -4.506891853230901,
            "win_rate": 0.2413793103448276,
            "avg_pnl": -6.049310344827393,
            "std_dev_pnl": 21.30732837228835,
            "gross_pnl": -175.42999999999438,
            "net_pnl": -175.42999999999438
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": -4.506891853230901,
          "trade_count": 29,
          "metrics": {
            "pnl": -175.42999999999438,
            "commission": 0.0,
            "count": 29,
            "wins": 7,
            "losses": 22,
            "pnl_values": [
              25.99999999999909,
              -3.4999999999968168,
              -11.000000000001364,
              18.000000000006366,
              -12.999999999999545,
              -9.000000000003183,
              -11.000000000001364,
              -9.000000000003183,
              25.99999999999909,
              10.590000000001965,
              -6.399999999996453,
              -14.999999999997726,
              -8.749999999997726,
              2.7500000000031832,
              -16.499999999996362,
              -18.99999999999409,
              -41.99999999999591,
              -28.00000000000864,
              -33.00000000000409,
              -13.009999999997035,
              -27.99999999999727,
              -20.000000000004547,
              65.49999999999727,
              -5.5000000000063665,
              -7.000000000005002,
              -10.500000000001819,
              14.499999999998181,
              -2.5999999999953616,
              -27.00999999999567
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 29,
            "pure_regime_pnl": -175.42999999999438,
            "sharpe_ratio": -4.506891853230901,
            "win_rate": 0.2413793103448276,
            "avg_pnl": -6.049310344827393,
            "std_dev_pnl": 21.30732837228835,
            "gross_pnl": -175.42999999999438,
            "net_pnl": -175.42999999999438
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": -4.506891853230901,
          "trade_count": 29,
          "metrics": {
            "pnl": -175.42999999999438,
            "commission": 0.0,
            "count": 29,
            "wins": 7,
            "losses": 22,
            "pnl_values": [
              25.99999999999909,
              -3.4999999999968168,
              -11.000000000001364,
              18.000000000006366,
              -12.999999999999545,
              -9.000000000003183,
              -11.000000000001364,
              -9.000000000003183,
              25.99999999999909,
              10.590000000001965,
              -6.399999999996453,
              -14.999999999997726,
              -8.749999999997726,
              2.7500000000031832,
              -16.499999999996362,
              -18.99999999999409,
              -41.99999999999591,
              -28.00000000000864,
              -33.00000000000409,
              -13.009999999997035,
              -27.99999999999727,
              -20.000000000004547,
              65.49999999999727,
              -5.5000000000063665,
              -7.000000000005002,
              -10.500000000001819,
              14.499999999998181,
              -2.5999999999953616,
              -27.00999999999567
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 29,
            "pure_regime_pnl": -175.42999999999438,
            "sharpe_ratio": -4.506891853230901,
            "win_rate": 0.2413793103448276,
            "avg_pnl": -6.049310344827393,
            "std_dev_pnl": 21.30732837228835,
            "gross_pnl": -175.42999999999438,
            "net_pnl": -175.42999999999438
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": -4.506891853230901,
          "trade_count": 29,
          "metrics": {
            "pnl": -175.42999999999438,
            "commission": 0.0,
            "count": 29,
            "wins": 7,
            "losses": 22,
            "pnl_values": [
              25.99999999999909,
              -3.4999999999968168,
              -11.000000000001364,
              18.000000000006366,
              -12.999999999999545,
              -9.000000000003183,
              -11.000000000001364,
              -9.000000000003183,
              25.99999999999909,
              10.590000000001965,
              -6.399999999996453,
              -14.999999999997726,
              -8.749999999997726,
              2.7500000000031832,
              -16.499999999996362,
              -18.99999999999409,
              -41.99999999999591,
              -28.00000000000864,
              -33.00000000000409,
              -13.009999999997035,
              -27.99999999999727,
              -20.000000000004547,
              65.49999999999727,
              -5.5000000000063665,
              -7.000000000005002,
              -10.500000000001819,
              14.499999999998181,
              -2.5999999999953616,
              -27.00999999999567
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 29,
            "pure_regime_pnl": -175.42999999999438,
            "sharpe_ratio": -4.506891853230901,
            "win_rate": 0.2413793103448276,
            "avg_pnl": -6.049310344827393,
            "std_dev_pnl": 21.30732837228835,
            "gross_pnl": -175.42999999999438,
            "net_pnl": -175.42999999999438
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": -4.506891853230901,
          "trade_count": 29,
          "metrics": {
            "pnl": -175.42999999999438,
            "commission": 0.0,
            "count": 29,
            "wins": 7,
            "losses": 22,
            "pnl_values": [
              25.99999999999909,
              -3.4999999999968168,
              -11.000000000001364,
              18.000000000006366,
              -12.999999999999545,
              -9.000000000003183,
              -11.000000000001364,
              -9.000000000003183,
              25.99999999999909,
              10.590000000001965,
              -6.399999999996453,
              -14.999999999997726,
              -8.749999999997726,
              2.7500000000031832,
              -16.499999999996362,
              -18.99999999999409,
              -41.99999999999591,
              -28.00000000000864,
              -33.00000000000409,
              -13.009999999997035,
              -27.99999999999727,
              -20.000000000004547,
              65.49999999999727,
              -5.5000000000063665,
              -7.000000000005002,
              -10.500000000001819,
              14.499999999998181,
              -2.5999999999953616,
              -27.00999999999567
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 29,
            "pure_regime_pnl": -175.42999999999438,
            "sharpe_ratio": -4.506891853230901,
            "win_rate": 0.2413793103448276,
            "avg_pnl": -6.049310344827393,
            "std_dev_pnl": 21.30732837228835,
            "gross_pnl": -175.42999999999438,
            "net_pnl": -175.42999999999438
          }
        }
      ],
      "combinations_tested": 5
    },
    "trending_down": {
      "best_weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "best_score": 0.5031708036375161,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": 0.5031708036375161,
          "trade_count": 7,
          "metrics": {
            "pnl": 8.87000000000171,
            "commission": 0.0,
            "count": 7,
            "wins": 3,
            "losses": 4,
            "pnl_values": [
              -4.9999999999954525,
              -0.009999999997489795,
              76.49999999999864,
              -43.00000000000637,
              4.989999999997963,
              15.499999999997272,
              -40.10999999999285
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 7,
            "pure_regime_pnl": 8.87000000000171,
            "sharpe_ratio": 0.5031708036375161,
            "win_rate": 0.42857142857142855,
            "avg_pnl": 1.2671428571431014,
            "std_dev_pnl": 39.977019946582544,
            "gross_pnl": 8.87000000000171,
            "net_pnl": 8.87000000000171
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": 0.5031708036375161,
          "trade_count": 7,
          "metrics": {
            "pnl": 8.87000000000171,
            "commission": 0.0,
            "count": 7,
            "wins": 3,
            "losses": 4,
            "pnl_values": [
              -4.9999999999954525,
              -0.009999999997489795,
              76.49999999999864,
              -43.00000000000637,
              4.989999999997963,
              15.499999999997272,
              -40.10999999999285
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 7,
            "pure_regime_pnl": 8.87000000000171,
            "sharpe_ratio": 0.5031708036375161,
            "win_rate": 0.42857142857142855,
            "avg_pnl": 1.2671428571431014,
            "std_dev_pnl": 39.977019946582544,
            "gross_pnl": 8.87000000000171,
            "net_pnl": 8.87000000000171
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": 0.5031708036375161,
          "trade_count": 7,
          "metrics": {
            "pnl": 8.87000000000171,
            "commission": 0.0,
            "count": 7,
            "wins": 3,
            "losses": 4,
            "pnl_values": [
              -4.9999999999954525,
              -0.009999999997489795,
              76.49999999999864,
              -43.00000000000637,
              4.989999999997963,
              15.499999999997272,
              -40.10999999999285
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 7,
            "pure_regime_pnl": 8.87000000000171,
            "sharpe_ratio": 0.5031708036375161,
            "win_rate": 0.42857142857142855,
            "avg_pnl": 1.2671428571431014,
            "std_dev_pnl": 39.977019946582544,
            "gross_pnl": 8.87000000000171,
            "net_pnl": 8.87000000000171
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": 0.5031708036375161,
          "trade_count": 7,
          "metrics": {
            "pnl": 8.87000000000171,
            "commission": 0.0,
            "count": 7,
            "wins": 3,
            "losses": 4,
            "pnl_values": [
              -4.9999999999954525,
              -0.009999999997489795,
              76.49999999999864,
              -43.00000000000637,
              4.989999999997963,
              15.499999999997272,
              -40.10999999999285
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 7,
            "pure_regime_pnl": 8.87000000000171,
            "sharpe_ratio": 0.5031708036375161,
            "win_rate": 0.42857142857142855,
            "avg_pnl": 1.2671428571431014,
            "std_dev_pnl": 39.977019946582544,
            "gross_pnl": 8.87000000000171,
            "net_pnl": 8.87000000000171
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": 0.5031708036375161,
          "trade_count": 7,
          "metrics": {
            "pnl": 8.87000000000171,
            "commission": 0.0,
            "count": 7,
            "wins": 3,
            "losses": 4,
            "pnl_values": [
              -4.9999999999954525,
              -0.009999999997489795,
              76.49999999999864,
              -43.00000000000637,
              4.989999999997963,
              15.499999999997272,
              -40.10999999999285
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 7,
            "pure_regime_pnl": 8.87000000000171,
            "sharpe_ratio": 0.5031708036375161,
            "win_rate": 0.42857142857142855,
            "avg_pnl": 1.2671428571431014,
            "std_dev_pnl": 39.977019946582544,
            "gross_pnl": 8.87000000000171,
            "net_pnl": 8.87000000000171
          }
        }
      ],
      "combinations_tested": 5
    },
    "trending_up": {
      "best_weights": null,
      "best_score": -Infinity,
      "all_results": [
        {
          "weights": {
            "ma_crossover": 0.3,
            "rsi": 0.7
          },
          "score": -Infinity,
          "trade_count": 1,
          "metrics": {
            "pnl": 324.0000000000009,
            "commission": 0.0,
            "count": 1,
            "wins": 1,
            "losses": 0,
            "pnl_values": [
              324.0000000000009
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 1,
            "pure_regime_pnl": 324.0000000000009,
            "sharpe_ratio": null,
            "win_rate": 1.0,
            "avg_pnl": 324.0000000000009,
            "std_dev_pnl": 0.0,
            "gross_pnl": 324.0000000000009,
            "net_pnl": 324.0000000000009
          }
        },
        {
          "weights": {
            "ma_crossover": 0.4,
            "rsi": 0.6
          },
          "score": -Infinity,
          "trade_count": 1,
          "metrics": {
            "pnl": 324.0000000000009,
            "commission": 0.0,
            "count": 1,
            "wins": 1,
            "losses": 0,
            "pnl_values": [
              324.0000000000009
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 1,
            "pure_regime_pnl": 324.0000000000009,
            "sharpe_ratio": null,
            "win_rate": 1.0,
            "avg_pnl": 324.0000000000009,
            "std_dev_pnl": 0.0,
            "gross_pnl": 324.0000000000009,
            "net_pnl": 324.0000000000009
          }
        },
        {
          "weights": {
            "ma_crossover": 0.5,
            "rsi": 0.5
          },
          "score": -Infinity,
          "trade_count": 1,
          "metrics": {
            "pnl": 324.0000000000009,
            "commission": 0.0,
            "count": 1,
            "wins": 1,
            "losses": 0,
            "pnl_values": [
              324.0000000000009
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 1,
            "pure_regime_pnl": 324.0000000000009,
            "sharpe_ratio": null,
            "win_rate": 1.0,
            "avg_pnl": 324.0000000000009,
            "std_dev_pnl": 0.0,
            "gross_pnl": 324.0000000000009,
            "net_pnl": 324.0000000000009
          }
        },
        {
          "weights": {
            "ma_crossover": 0.6,
            "rsi": 0.4
          },
          "score": -Infinity,
          "trade_count": 1,
          "metrics": {
            "pnl": 324.0000000000009,
            "commission": 0.0,
            "count": 1,
            "wins": 1,
            "losses": 0,
            "pnl_values": [
              324.0000000000009
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 1,
            "pure_regime_pnl": 324.0000000000009,
            "sharpe_ratio": null,
            "win_rate": 1.0,
            "avg_pnl": 324.0000000000009,
            "std_dev_pnl": 0.0,
            "gross_pnl": 324.0000000000009,
            "net_pnl": 324.0000000000009
          }
        },
        {
          "weights": {
            "ma_crossover": 0.7,
            "rsi": 0.3
          },
          "score": -Infinity,
          "trade_count": 1,
          "metrics": {
            "pnl": 324.0000000000009,
            "commission": 0.0,
            "count": 1,
            "wins": 1,
            "losses": 0,
            "pnl_values": [
              324.0000000000009
            ],
            "boundary_trade_count": 0,
            "boundary_trades_pnl": 0.0,
            "pure_regime_count": 1,
            "pure_regime_pnl": 324.0000000000009,
            "sharpe_ratio": null,
            "win_rate": 1.0,
            "avg_pnl": 324.0000000000009,
            "std_dev_pnl": 0.0,
            "gross_pnl": 324.0000000000009,
            "net_pnl": 324.0000000000009
          }
        }
      ],
      "combinations_tested": 5
    }
  },
  "timestamp": "2025-05-26T21:40:18.234696",
  "regime_best_weights": {
    "default": {
      "weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "sharpe_ratio": -4.506891853230901,
      "metrics": {
        "sharpe_ratio": -4.506891853230901
      }
    },
    "trending_down": {
      "weights": {
        "ma_crossover": 0.3,
        "rsi": 0.7
      },
      "sharpe_ratio": 0.5031708036375161,
      "metrics": {
        "sharpe_ratio": 0.5031708036375161
      }
    }
  }
}